**This project was completed by Lauren Mazzoli and Kenneth Truex**

Project Description:
--------------------------------------------------------------------------------------------------
The goal of this project is to develop an IoT Security System. The system will be comprised of two(2) replicated
Gateway devices which will act as a server device. Two(2) Databases which will server as the "back-ends"
that contain the functionality to log messages to a master log file. One(1) Door sensor that will send
its status (Open/Closed) to the gateway only when this status changes. One(1) Keychain that will serve 
as a presence beacon and will be on the home-owner's person at all times. One(1) Motion sensor that 
will be capable of detecting motion inside the house. Finally, one(1) Security Device that will sound 
an alarm should an intruder's presence be detected. Any of the devices can be registered to either gateway 
at any time.
--------------------------------------------------------------------------------------------------

We had the following assumptions during the implementation of our solution:
----------------------------------------------------------------------------------------------------------------------------------------------------
1) Since the input file for the door only has one time and then the corresponding state, we assumed that the state of the door at the time was what was listed (inclusive). For Example:
     0,Open
     10,Close
     20,Open   <-We assume that for time 20, the state will be Open, likewise, at time 19, the state will be Close

2) There will not be more than 100 connection attempts made on the Gateway (Total sensors + Total devices <= 100)

3) The size of a message being passed between devices will never exceed 99 characters

4) The door will only send its status to the gateway when the status (Open/Closed) has changed

5) The devices will be ran in the order instructed in the attached instructions.txt file

6) The IP address will be 127.0.0.1 for all devices

7) Depending on the input files, it is possible to have "unrealistic" events...such as the user coming home twice without ever having left the home
----------------------------------------------------------------------------------------------------------------------------------------------------

Failure Recovery:
----------------------------------------------------------------------------------------------------------------------------------------------------
     When both Gateways come online, they will instantly begin sending Heart Beat messages back and forth at the rate of 1 second. When every device comes online, it will immediately open a socket in a separate thread and listen for a failure message to come in. When one gateway fails, the others heartbeat recv() thread will detect this and broadcast a failure message to the listening devices. Each device that was registered with the now failed gateway will update their IP/Port and connect on a new socket with the alive gateway. Once they are connected to the live gateway, they will send a Register message to that live gateway. Once all devices haev re-registered with the live gateway, operations will assume as if in a single, non-replicated gateway configuration.
     Since 2PC protocol ceases as soon as one gateway fails, there will not be any data loss during the transition to a single gateway configuration.
----------------------------------------------------------------------------------------------------------------------------------------------------

Note 1:
----------------------------------------------------------------------------------------------------------------------------------------------------
The code in both Gateway programs is identical. The Gateways determine who is primary and who is alternate based on the provided config file. Most testing was done by launching the primary gateway first, follwed by the secondary, then primary database, then secondary database. After those 4, you may essentially start the devices in any order you wish. We did implement the Extra Credit portion and so you may also crash whichever gateway you wish, and the fault recovery will be able to recover the system and configure it for a single gateway, non-replicated system. 
----------------------------------------------------------------------------------------------------------------------------------------------------

Note 2:
----------------------------------------------------------------------------------------------------------------------------------------------------
I, Kenneth Truex, worked on Project 1 with Victor Varela as my partner. Since this was the case, we both developed the Project 1 code base together and so, began with the same relative code base for Project 3, even though I am now partners with Lauren Mazzoli and he decided to work alone. We, Lauren and I, have modified/overhauled the code base extensively throughout this project, however, I wanted to make a note of this in case any similarities became a concern. If there are any issues with this, feel free to email me at ktruex1@umbc.edu.
